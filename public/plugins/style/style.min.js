Revolvapp,Revolvapp.add("plugin","style",{translations:{en:{style:{style:"Style","remove-style":"Remove Style"}}},defaults:{icon:'<svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m15 1c-3.5955345 2.88454776-5.25146525 9.6241453-7.87485347 9.6241453h-2.6253419l-2.62495116 4.3758547h-.87485347c1.75009768-5.25102559 6.33028189-14 14-14z"/></svg>',styles:!1},popups:{base:{builder:"style.buildItems"}},init:function(){},start:function(){var t=Object.keys(this.opts.style.styles);0!==t.length&&this.app.toolbar.add("style",{title:"## style.style ##",icon:this.opts.style.icon,components:t,command:"style.popup"})},popup:function(t,e){this.app.popup.create("style",this.popups.base),this.app.popup.open({button:e})},set:function(t,e,s){this.app.popup.close();var t=e.getParams(),e=this.opts.style.styles,o=this.app.component.get(),p=o.getType(),l=o.getSourceStyle(),i=o.getSource();void 0!==e[p]&&(l===s?(i.removeAttr("stylename style"),o.removeStyle(t)):(l&&o.removeStyle(e[p][l].css),o.setStyle(t),i.attr("stylename",s),i.attr("style",this._objectToCss(t))),this.app.toolbar.build())},buildItems:function(){var t={},e=this.app.component.get(),s=e.getType(),o=e.getSourceStyle(),p=this.opts.style.styles;if(void 0!==p[s]){for(var l in p[s])t[l]={title:p[s][l].title,active:o===l,params:p[s][l].css,command:"style.set"};return t}},_objectToCss:function(t){for(var e=Object.keys(t),s="",o=0;o<e.length;o++){var p=e[o];s+=p+":"+t[p]+";"}return s}});